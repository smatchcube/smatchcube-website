<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smatchcube | Exercise 2.74</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>body {max-width: 1000px;padding: 15px; margin: auto;}</style>
<style>
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
</head>
<body>
<header>
  <h1>Smatchcube's website</h1>
  <hr>
</header>
<nav>
<p>/<a href="../index.html">home</a>/<a href="../SICP.html">SICP</a>/Exercise 2.74</p>
</nav>
<main>
<div id="header">
<h1 class="title">Exercise 2.74</h1>
</div>
<h1 id="a.">a.</h1>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">(<span class="kw">define</span><span class="fu"> </span>(get-record employee-name personnel-file)
  ((get &#39;get-record (type-tag personnel-file))
   employee-name
   (contents personnel-file)))</code></pre></div>
<p>The individual divisions files must be tagged the same way and use the same order for the arguments. # b.</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">(<span class="kw">define</span><span class="fu"> </span>(get-salary employee-name personnel-file)
  ((get &#39;get-salary (type-tag record-file))
   (get-record (contents record-file)))</code></pre></div>
<p>In order to works, the records must also be tagged. # c. I chose that if a lookup ended with no results, the returned value is <code>#f</code> (false), as anything else is considered true we can easily implement an iterative procedure to search a record in every divisions's files.</p>
<div class="sourceCode"><pre class="sourceCode scheme"><code class="sourceCode scheme">(<span class="kw">define</span><span class="fu"> </span>(find-enployee-record employee-name list-of-divisions-file)
  (<span class="kw">if</span> (<span class="kw">null?</span> list-of-divisions-file)
      (error <span class="st">&quot;No record found with this name&quot;</span>)
      (<span class="kw">let</span> ((employee-record (get-record (<span class="kw">car</span> list-of-divisions-file))))
        (<span class="kw">if</span> employee-record
            employee-record
            (find-enployee-record employee-name (<span class="kw">cdr</span> list-of-divisions-file))))))</code></pre></div>
<h1 id="d.">d.</h1>
<p>We must add the new procedures to the table with the correct type.\ Even if tagged data is really useful, we should always have some sort of application programming interface (API) when everything is decentralized. Without any API big systems becomes really hard to change.</p>
</main>
<footer>
<hr>
<!--<a href="http://www.w3.org/html/logo/">
<img src="https://www.w3.org/html/logo/downloads/HTML5_1Color_Black.svg" width="63" height="64" alt="HTML5 Powered" title="HTML5 Powered">
</a>-->
</footer>
</body>
</html>
