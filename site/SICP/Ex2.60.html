<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smatchcube | Exercise 2.60</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>body {max-width: 1000px;padding: 15px; margin: auto; font-family: sans;}</style>
<style>
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
</head>
<body>
<header>
  <h1>Smatchcube's website  üåç</h1>
  <hr>
</header>
<nav>
<p>/<a href="../index.html">home</a>/<a href="../SICP.html">SICP</a>/Exercise 2.60</p>
</nav>
<main>
<div id="header">
<h1 class="title">Exercise 2.60</h1>
</div>
<p>The <code>element-of-set?</code> procedure is exactly the same, though it‚Äôs obviously performing worse if there are duplicates in the list.</p>
<p>The <code>adjoin-set</code> procedure doesn‚Äôt have to check if the element is already in the list so the number of steps required by <code>adjoin-set</code> is simply \((1)\), with the previous representation the order of growth was \((n)\).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode scheme"><code class="sourceCode scheme"><a class="sourceLine" id="cb1-1" title="1">(<span class="ex">define</span><span class="fu"> </span>(adjoin-set x set) (<span class="kw">cons</span> x set))</a></code></pre></div>
<p>The <code>union-set</code> procedure is also straightforward, as <code>adjoin-set</code> the order of growth is \((1)\) which is way better than the growth with the previous representation which was \((n^2)\).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode scheme"><code class="sourceCode scheme"><a class="sourceLine" id="cb2-1" title="1">(<span class="ex">define</span><span class="fu"> </span>(union-set set1 set2) (<span class="kw">append</span> set1 set2))</a></code></pre></div>
<p>For the <code>intersection-set</code> procedure we need to at least check if the elements are in both sets so we need to do a <code>element-of-set?</code> check for each element of <code>set2</code>, hence with this representation the <code>intersection-set</code> procedure is also \((n^2)\). I have transformed the procedure to be iterative so the procedure is now \((1)\) in space compared to \((n)\) in the previous procedure with \(n\) the number of elements in the intersection (because the old procedure used <code>cons</code> recursively).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode scheme"><code class="sourceCode scheme"><a class="sourceLine" id="cb3-1" title="1">(<span class="ex">define</span><span class="fu"> </span>(intersection-set set1 set2)</a>
<a class="sourceLine" id="cb3-2" title="2">  (<span class="ex">define</span><span class="fu"> </span>(intersection-iter intersection set2-rest)</a>
<a class="sourceLine" id="cb3-3" title="3">    (<span class="kw">cond</span> ((<span class="kw">null?</span> set2-rest) intersection)</a>
<a class="sourceLine" id="cb3-4" title="4">          ((element-of-set? (<span class="kw">car</span> set2-rest) set1)</a>
<a class="sourceLine" id="cb3-5" title="5">           (intersection-iter (<span class="kw">cons</span> (<span class="kw">car</span> set2-rest) intersection)</a>
<a class="sourceLine" id="cb3-6" title="6">                              (<span class="kw">cdr</span> set2-rest)))</a>
<a class="sourceLine" id="cb3-7" title="7">          (<span class="kw">else</span> (intersection-iter intersection (<span class="kw">cdr</span> set2-rest)))))</a>
<a class="sourceLine" id="cb3-8" title="8">  (intersection-iter &#39;() set2))</a></code></pre></div>
<p>Even if it‚Äôs faster to compute <code>adjoin-set</code> and <code>union-set</code> with this representation I can‚Äôt really think of applications for which the duplicate representation is better. It may be useful if we are dealing with a lot of union and adjoin operations but that‚Äôs it. The non-duplicate version is better when dealing with cardinals of sets.</p>
</main>
<footer>
<hr>
<!--<a href="http://www.w3.org/html/logo/">
<img src="https://www.w3.org/html/logo/downloads/HTML5_1Color_Black.svg" width="63" height="64" alt="HTML5 Powered" title="HTML5 Powered">
</a>-->
</footer>
</body>
</html>
